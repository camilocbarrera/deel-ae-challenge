version: 2

sources:
  - name: RAW_GLOBEPAY
    description: > 
     Data source Payments platform Globepay is single and secure payment platform that lets you collect 
     payments quickly from around the world in different currencies. 
     It works across devices and is designed to increase your conversion.
    database: DEEL_ANALYTICS
    schema: RAW_FIVETRAN_GOOGLE_DRIVE__GLOBEPAY


    freshness:
      warn_after: { count: 12, period: hour }
      error_after: { count: 24, period: hour }
    loaded_at_field: _fivetran_synced

    tables:
      - name: globepay_acceptance_report_globepay_acceptance_report
        description: "GLOBEPAY ACCEPTANCE REPORT"
        columns:
          - name: external_ref
            description: "The card expiry year. Format: 4 digits. For example: 2020"
            datatype: varchar(256)
          - name: status
            description: "It is not specified in the API documentation, it always comes TRUE"
            datatype: boolean
          - name: source
            description: "Name of the payment platform, indicates the source that in this source will be GlobePay by default"
            datatype: varchar(256)
          - name: ref
            description: "reference or unique identifier generated by a payment gateway in a specific event."
            datatype: varchar(256)
          - name: date_time
            description: "The timestamp of the transaction"
            datatype: datetime
          - name: state
            description: "The binary state of the transaction. For example: Accepted or Declined."
            datatype: boolean
          - name: cvv_provided
            description: "Boolean value that checks if the cvv was given in the transaction"
            datatype: boolean
          - name: amount
            description: "The amount that has been charged from the card."
            datatype: double
          - name: country
            description: "The two-character ISO country code of the card."
            datatype: varchar(256)
          - name: currency
            description: "The two-character ISO country code of the card."
            datatype: varchar(256)
          - name: rates
            description: "The exchange rate used. Funds are settled to you in USD."
            datatype: varchar(256)
          - name: _fivetran_synced
            description: "Fivetran Column Date Time EL"
            datatype: datetime

      - name: globepay_chargeback_report_globepay_chargeback_report
        description: "GLOBEPAY CHARGEBACK REPORT raw table"
        columns:
          - name: external_ref
            description: "The card expiry year. Format: 4 digits. For example: 2020"
            datatype: varchar(256)
          - name: status
            description: "It is not specified in the API documentation, it always comes TRUE"
            datatype: boolean
          - name: source
            description: "Name of the payment platform, indicates the source that in this source will be GlobePay by default"
            datatype: varchar(256)
          - name: chargeback
            description: "Dispute of transaction made in your account and ask your financial institution to reverse the corresponding charge to the merchant or service provider"
            datatype: boolean
          - name: _fivetran_synced
            description: "Fivetran Column Date Time EL"
            datatype: datetime
